# PerceptronNER

---

## Introduction

> PerceptronNER is a Chinese Named Entity Recognition toolkit based on Multi-class Perceptron algorithm.

## Data Format

PerceptronNER, so far, only support UTF-8 files.

Pretreatment will generates feature list ans training data for Multi-class Perceptron. **And Pretreatment program can only handle with half-width space.**

Recognizer use the model file which generate by Multi-class Perceptron to do recognition work.

## Installation

It is easy to type `make`. And make sure all the source code files exist.

## Usage

### Training a segmenter

Use command `nerp_train` to train a recognizer:

```shell
NAME
    cwsp_train -- Training a CWSP model using the given corpus file.
USAGE:
    cwsp_train [-abr 0|1] [-d file] [-n INT] [-ml FLOAT] corpus model
OPTIONS:
     -h    Print help infomation

     Following command can be used to specify resources files.
     -b [0,1]    0: CharType resource file is a text file
                 1: CharType resource file is a binary file (default)

     -d <dict>   Specify the dictionary file (default: model\Dict)

     Following command can be used to specify the training params.
     -n int       Set the maximum iteration loops (default 200)

     -m double    Set minimum loss value decrease (default 1e-03)

     -r [0,1]     Choosing optimization method
                  0: Stochastic gradient descent optimization(default)
                  1: Gradient Descent optimization

     -l float     Set the learning rate (default 1.0)

     -a [0,1]     Set weight matrix output way
                  0: final weight (default)
                  1: average weights of all iteration loops
```

The `cwsp_train` command need a extra dictionary file which is default given by path(model/Dict), and it will generate two files named Feat and Prob. 

File "Feat" is a lookup table for characeter feature to feature vector. And file "Prob" is probability information statistic generate by Pretreatment process, it will be used to decode.

### Segmentation

Use command `cwsp_seg` to do segmentation work:

```shell
NAME
    cwsp_seg -- Using existing resource files and given model files to
                do segmentation work.
USAGE:
    cwsp_seg [-b 0|1] [-dfp file] model corpus output
OPTIONS:
     -h    Print help infomation

     Following command can be used to specify resources files.
     -b [0,1]    0: CharType resource file is a text file
                 1: CharType resource file is a binary file (default)

     -d <dict>   Specify the dictionary file (default: model\Dict)

     -f <feat>   Specify the feature file (default: model\Feat)

     -p <prob>   Specify the probability file (default: model\Prob)
```

### Convert model and source file to binary file

Use command `convert` to convert model and source file from text to binary format:

```shell
NAME
    convert -- convert model & src file of CWSP from text to binary file
USAGE:
    convert [-A] [-c][-dfpm file]
OPTIONS:
     -h    Print help infomation

     -A    Convert all the model & src file with default path. Include:
           CharType(./data/*), Feat(./model/Feat), Prob(./model/Prob), Dict
           (./model/Dict) and Model(./model/Model). And also you can use
           following command [-dfpm file] to give a specified file.

     Following command can be used to convert a specified model file.
     -c    Convert all the CharType files under './data/'

     -d    Convert Dict file from the specified file(default: ./model/Dict)

     -f    Convert Feat file from the specified file(default: ./model/Feat)

     -p    Convert Prob file from the specified file(default: ./model/Prob)

     -m    Convert MultiPerceptron Model file from the specified file(default:
           ./model/Model)
```

## Resource file

### Under /data

CharType resource files:

	.
	├── data
	│   ├── ANum
	│   ├── CFamilyName
	│   ├── CGivenName
	│   ├── CNum1
	│   ├── CNum2
	│   ├── Date
	│   ├── EChar
	│   ├── ForeignName
	│   ├── Punc
	│   └── binarySource

All these files are the resources for CharType module, which used to generate features for given character. Each file includes a certain kind of Chinese characters. For example, "年", "月" and "日" are belong to the "Date" type in Chinese.

And the file "binarySource" is a binary resource file for CharType, it includes all types of character CharType needs.

### Under /model

Dict, Feat, and Prob:

	.
	├── model
	│   ├── Dict
	│   ├── Feat
	│   └── Prob

Dict stores dictionary informations for CWSP. And it should be given before start training a segmenter.

Feat & Prob are model files generated by CWSP during training processing.


## Change History

- 2017-03-09 **version 0.0.1**
  - Project initialization.
  - Basic structure confirmed.
